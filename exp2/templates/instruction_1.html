<!DOCTYPE html>
<html>

<head>
    <title>Task Description</title>
    <meta charset="UTF-8">
    <script type="text/javascript" src="{{url_for('static',filename='jquery-3.4.1.min.js')}}"></script>
    <script type="text/javascript" src="{{ url_for("flask_util_js") }}"></script>
</head>

<body>
    <div id="instruction" style="margin: auto; width: 60%;">
        <fieldset>
            <legend>
                <h2>Instructions</h2>
            </legend>
            <p>Please put your browser in full screen and make sure you can see the full word cloud below </p>

            <p>For each question, you will be presented with a word cloud like the one below for a limited time. Then 
                the word cloud will disappear and you will be shown a target. The target is either a common English
                word or a nonword. Your task is to press <strong>right arrow key or F key</strong> if the target is an 
                English word, and press the <strong>left arrow key or J key</strong> if the target is not an English
                word. You should press the key <strong>as quickly and as accurately</strong> as possible.</p>

            <p>For instance, after the word cloud below is presented, it will disappear and the target "<strong>nitable</strong>"
                will be shown. Since "<strong>nitable</strong>" is not an English word, pressing the <strong>left arrow key or F key</strong> 
                would be the correct answer.</p>

            <p>After your response is registered, you may press the space bar to proceed to the next trial, at your pace.</p>
            </fieldset>
    </div>
    <div style="text-align:center;" id = "cloudSVG">
        <svg width="400" height="400"><g transform="translate(200,200)"><text text-anchor="middle" transform="translate(-49,-5)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">gorgeous</text><text text-anchor="middle" transform="translate(-61,33)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">crook</text><text text-anchor="middle" transform="translate(-3,67)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">rumor</text><text text-anchor="middle" transform="translate(-52,-32)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">lemonade</text><text text-anchor="middle" transform="translate(24,12)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">cop</text><text text-anchor="middle" transform="translate(19,47)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">associate</text><text text-anchor="middle" transform="translate(-25,89)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">crane</text><text text-anchor="middle" transform="translate(-49,-55)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">fuzz</text><text text-anchor="middle" transform="translate(-25,-94)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">reaction</text><text text-anchor="middle" transform="translate(48,98)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">weights</text><text text-anchor="middle" transform="translate(-87,57)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">agent</text><text text-anchor="middle" transform="translate(83,-8)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">tune</text><text text-anchor="middle" transform="translate(14,124)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">ancestor</text><text text-anchor="middle" transform="translate(72,67)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">news</text><text text-anchor="middle" transform="translate(38,-31)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">union</text><text text-anchor="middle" transform="translate(89,45)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">test</text><text text-anchor="middle" transform="translate(-7,-119)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">diameter</text><text text-anchor="middle" transform="translate(72,-64)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">religious</text><text text-anchor="middle" transform="translate(-89,89)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">daily</text><text text-anchor="middle" transform="translate(104,20)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">store</text><text text-anchor="middle" transform="translate(-44,-148)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">explain</text><text text-anchor="middle" transform="translate(20,150)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">parkway</text><text text-anchor="middle" transform="translate(-119,36)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">land</text><text text-anchor="middle" transform="translate(61,-90)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">security</text><text text-anchor="middle" transform="translate(-119,-60)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">elevator</text><text text-anchor="middle" transform="translate(34,-143)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">chart</text><text text-anchor="middle" transform="translate(-123,-22)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">girl</text><text text-anchor="middle" transform="translate(103,-34)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">stitch</text><text text-anchor="middle" transform="translate(104,121)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">noodles</text><text text-anchor="middle" transform="translate(119,152)rotate(0)" fill="black" style="font-size: 23px; font-family: 'Times New Roman';">periscope</text></g></svg>
    </div>
    
    <div id="fscheck" style="text-align:center;"><p>It seems that your browser window is too small. Please put your browser in full screen.</p></div>

    <div style="text-align:center;">
        <a id="simple_link" onclick="viewTarg()" href="javascript:void(0);">
            See the target
        </a>
    </div>
    
    <div style="text-align:center;">
        <p>When you are ready, click "Next" below to do some practice.<br></p>
            <button id="next" disabled="disabled">Next</button>
    </div>
    <form action="{{url_for('get_stim')}}" method = "POST" id="stim"></form>


    <script type="text/javascript">
        turker_id = "{{turker_id}}"
        order = {{order}}
        width = {{width}}
        height = {{height}}
        var next = document.getElementById('next');

        if (next) {
            next.onclick = onNextClicked;
        }

        // submit the turker_id, order and trial index
        function onNextClicked() {
            var tid_input= $("<input>").attr("type","hidden").attr("name","turker_id").val(turker_id);
            var ord_input = $("<input>").attr("type","hidden").attr("name","order").val(JSON.stringify(order));
            var trial = $("<input>").attr("type","hidden").attr("name","trial_index").val(0);
            $('#stim').append(tid_input).append(ord_input).append(trial).submit();
        }

        // check for window size and enable next
        if ((window.innerWidth>width*1.75) && (window.innerHeight>height*1.2)){
            $('#fscheck').html('');
            document.getElementById('next').disabled="";
        }

        // when resized, recheck the size 
        window.onresize = function (){
            if ((window.innerWidth>width*1.75) && (window.innerHeight>height*1.2)){
                $('#fscheck').html('');
                document.getElementById('next').disabled="";
            } else {
                $('#fscheck').html('It seems that your browser window is too small. Please put your browser in full screen.');
                document.getElementById('next').disabled="disabled";
            }
        }
        function viewTarg(){
            $("#cloudSVG").html('<svg width="650" height="400"><text transform="translate(600,215)" style="font-size: 17px;">word</text><text transform="translate(600,200)" style="font-size: 17px;"> &#8594 | J</text><text transform="translate(0,215)" style="font-size: 17px;">nonword</text><text transform="translate(0,200)" style="font-size: 17px;"> &#8592 | F</text><text text-anchor="middle" transform="translate(325,200)" fill="black" style="font-size: 23px; font-family: "Times New Roman";">NITABLE</text></svg>');
        }
    </script>
</body>

</html>